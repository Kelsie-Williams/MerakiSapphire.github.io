For this project, I decided to use Flask, Python, and CSS as it was the best for me to dynamically implement with what I know. I first imported some libraries and functions to help me implement my project. I also configured a database called users that includes the tables users (containing user's username, password, and their song artist tye), questions (containing the quiz questions and its corresponding six answers), and songs (containing the recommended songs title, artist, youtube link and corresponding type). I decided to use a database instead of writing the songs and questions into the code so I can easily update them and use a loop to have them appear on the pages.

The first function and page to be used are the login function and page. The login function utilizes the GET and POST methods. It first forgets any user id previously in session. If the method is POST and if-else statements check whether or not the user has provided a username and password and if they have an apology is returned. Then the variable rows are set to a SQL query to retrieve all the information from the database at the user's username. Then an if statement checks if the username exists and the password is correct by checking if the lens of the row doesn't equal 1 and using the check_password_hash function to see if the password is correct. Then, it'll log that the user is logged in by setting session["user_id"] to rows[0]["id"]. Lastly, it'll return a redirect to send the user to the index page. If the method is POST the long template is returned.

The register function, which will be executed if the user presses it on the navigation bar, utilizes the GET and POST methods. The register template extends the layout template and contains a form using the post method which will send data to the register function. In this form are three input tags asking for a username, password, and password confirmation. For the register function, if the method is GET it'll return the register template. If the method is POST it'll set a variable row to a SQL query retrieving the data corresponding to the user's username. Then using the data submitted from the form the user's username, password, and password confirmation to corresponding variables. Then if-else statements are used to check whether or not the user provided the username, password, and password confirmation (by checking if the user submitted the info for that name), if the passwords match (by comparing the password and password confirmation), and if the username is already taken (by checking if the length rows DNE 0). If any of these statements evaluate as true an apology is returned. If everything evaluates to false, meaning the user provided the correct information, a variable logged_in will be set to a SQL query that inserts the username and a hashed version of the password (using the generate_password_hash function) into the users database. Then sets the session["user_id"] to logged_in to remember the user is logged in. Finally, the index template is returned.

After the login function is properly executed the user is redirected to the index page where the index function is utilized. The index function also uses GET and POST methods but a login is required to access it so users without accounts can't stumble on it. If the method is GET the variable submitted is set to a SQL query to retrieve the song artist type of the current user. It then returns the index table with the submitted variable as an argument. If the argument DNE NULL then the button and images for both take the quiz and song library to appear. If it equals NULL then only the image and button for taking the quiz will appear. This is so new users will not be inclined to go to a currently empty songs library. If the request method equals POST there are 2 if statements. One for the "submit_quiz" button which when true will redirect to the quiz page and the other for the "submit_loibrary" button which when true will redirect to the library page. I created this page and function so new users could get a short explanation of what the web app is about and returning users can pick between retaking the quiz or looking at their recommended songs again.

If the user clicks the "submit_quiz" button the user is redirected to the quiz page where the quiz function is utilized. The quiz page consists of a form that uses the POST method which will send data to the results function. Within the form is a for loop that iterates through the row variable (which holds the data from the questions database) and displays each question and its corresponding answers in an ordered list. The quiz function needs the user to be logged in (otherwise the quiz responses couldn't be associated with the user) and utilizes the GET and POST methods. The function firsts set a variable row to a SQL retrieving all the data from the questions database. If the method is GET the quiz template is returned with a row as an argument. If the method is POST it redirects to the results page.

Once the quiz function is executed the login function is used and the user is redirected to the results page. The results template contains some heading tags displaying the user's resulting song artist and a table displaying the song recommendations. The table is a for loop iterating through the data within the songs database with the corresponding music artist type. Using a for loop makes it adaptable to whatever result the user gets and allows for much less code. The quiz function needs the user to be logged in (otherwise the quiz responses couldn't be associated with the user) and utilizes the GET and POST methods. The function first creates a dictionary associating each of the song artist types to O so I can later add to the values based on which options the user chooses to see which type has the most points. It also sets a variable length to SQL to retrieve the last id of the songs database. It then turns that value into an integer and adds 1 so it can represent how long the database is and be used later in for a loop. This allows for me to add more questions to the database without worrying if the function will loop enough to go through all the questions and check what options were chosen. If the method is POST a for loop loops for the length of the questions database and checks what the data submitted by the form with the k variable as its name attribute and if its value match with the specified song artist type. If the value matches the specified type 1 is added to the corresponding type in the types dictionary. Having the user's type in the user database will be useful later when pulling the user's song recommendations later for the song library. It then sets the variable max_key to the type with the most points (found using the max function). It then updates the current user's type column in the users database with the resulting type. It then sets a variable result to a SQL query that retrieves all the data from the songs database where the type is equal to max_key. It then returns the results template with results and max_key as arguments. If the request is GET the results template is still returned but without the arguments. All of this results in a page telling the user which artist the most like and a table displaying song recommendations with the option to listen to the song by clicking the youtube-icon.

For user's that have already taken the quiz, they can go and see their results on the song library page. To implement this I created a library function and template. The library template is the same as the results template but does not display the user's type as it's solely for the song recommendation. The library function needs the user to be logged in (otherwise there would be no user in session to retrieve songs from the database for) and utilizes the GET and POST methods. First, a variable songs is set to a SQL query that retrieved the songs where the type is equal to the type of the user, allowing for the user's song recommendation to be retrieved. If the method is GET it returns the library template with sings as an argument.

Lastly, is the function logout which can be executed by clicking logout in the navigation bar. The function clears the user from the session and returns them to the login page.